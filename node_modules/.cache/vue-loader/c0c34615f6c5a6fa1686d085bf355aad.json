{"remainingRequest":"/home/hacktivate/Final/master/client-template/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hacktivate/Final/master/client-template/src/pages/Service.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hacktivate/Final/master/client-template/src/pages/Service.vue","mtime":1574309560579},{"path":"/home/hacktivate/Final/master/client-template/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hacktivate/Final/master/client-template/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hacktivate/Final/master/client-template/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hacktivate/Final/master/client-template/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { TriggerNotif } from \"@/api/firebase\";\nimport { mapState } from \"vuex\";\n\nimport ListTukangService from \"@/components/Tables/ListTukangService\";\n\nexport default {\n  components: {\n    ListTukangService\n  },\n  data() {\n    return {\n      isLoading: false,\n      loadingForm: false,\n      showForm: false,\n      username: \"\",\n      password: \"\",\n      facebook: \"\",\n      loading: false,\n      //   abangService : this.$store.state.abangService\n      icon: {\n        \"Police Issue\": require(`../../assets/service/police.png`),\n        \"Tire Issue\": require(`../../assets/service/ban.png`),\n        \"Less Ingredient\": require(`../../assets/service/sauce.png`),\n        \"Low Battery\": require(`../../assets/service/battery.png`),\n        Medice: require(`../../assets/service/medice.png`),\n        \"Edit Profile\": require(`../../assets/service/user.png`),\n        Service: require(`../../assets/service/teknik.png`),\n        \"Gas Issue\": require(`../../assets/service/gas.png`)\n      }\n    };\n  },\n  created() {\n    this.fetchAbangService();\n    this.fetchService();\n  },\n  methods: {\n    fetchService() {\n      this.$store.dispatch(\"fetchService\");\n    },\n    fetchAbangService() {\n      this.$store.dispatch(\"fetchAbangService\");\n    },\n    goAddAbang() {\n      this.showForm = true;\n    },\n    cancelAdd() {\n      this.showForm = false;\n    },\n    handleimage() {\n      this.image = this.$refs.image.files[0];\n    },\n    newAbang() {\n      this.loading = true;\n      let formData = new FormData();\n\n      formData.append(\"username\", this.username);\n      formData.append(\"facebook\", this.facebook);\n      formData.append(\"password\", this.password);\n      formData.append(\"image\", this.image);\n      formData.append(\"role\", \"service\");\n\n      this.$store\n        .dispatch(\"addAbangService\", formData)\n        .then(data => {\n          console.log(\"helloo\");\n          this.loading = false;\n          this.fetchAbangService();\n          this.username = \"\";\n          this.password = \"\";\n          this.facebook = \"\";\n          this.showForm = false;\n          this.$toasted.show(\"new service agent succesfully created\", {\n            theme: \"bubble\",\n            position: \"bottom-right\",\n            duration: 4000,\n            type: \"success\"\n          });\n        })\n        .catch(err => {\n          this.loading = false;\n          this.$toasted.show(\"Invalid input, create service agent failed\", {\n            theme: \"bubble\",\n            position: \"bottom-right\",\n            duration: 4000,\n            type: \"error\"\n          });\n        });\n    }\n  },\n  created() {\n    TriggerNotif.onSnapshot(querySnapshot => {\n      this.fetchService();\n      this.fetchAbangService();\n    });\n    setTimeout(() => {\n      this.isLoading = false;\n    }, 2000);\n    this.isLoading = true;\n    this.fetchService();\n    this.fetchAbangService();\n  },\n  computed: {\n    ...mapState([\"service\", \"abangService\"]),\n    solvedService: function() {\n      return this.service.filter(list => list.solve);\n    },\n    unsolvedService: function() {\n      return this.service.filter(list => !list.solve);\n    }\n  }\n};\n",{"version":3,"sources":["Service.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2NA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Service.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div class=\"content\">\n    <div class=\"md-layout\">\n      <!-- 2 -->\n      <div\n        class=\"md-layout-item md-medium-size-100 md-xsmall-size-100 md-size-33\"\n      >\n        <md-card>\n          <md-card-header data-background-color=\"blue\">\n             <div\n              style=\"display: flex; justify-content: space-between; width: 100%\"\n            >\n              <div style=\"display: flex; flex-direction: column\">\n                <h4 v-if=\"showForm === false\" class=\"title\">Service Agents</h4>\n                <h4 v-else class=\"title\">Add New Agent</h4>\n\n                <p v-if=\"showForm === false\" class=\"category\">\n                  List of All Service Agents\n                </p>\n                <p v-else class=\"category\">Fill out the form</p>\n              </div>\n\n              <div>\n                <!-- <transition name=\"fade\"> -->\n                <div v-if=\"showForm\">\n                  <md-button class=\"md-warning\" @click=\"cancelAdd\"\n                    >Cancel</md-button\n                  >\n                </div>\n                <!-- </transition> -->\n                <!-- <transition name=\"fade\"> -->\n                <div v-if=\"showForm === false\">\n                  <md-button class=\"md-warning\" @click=\"goAddAbang\"\n                    >Add +</md-button\n                  >\n                </div>\n                <!-- </transition> -->\n              </div>\n              <div></div>\n            </div>\n          </md-card-header>\n          <md-card-content>\n            <!-- List Abang goes here -->\n            <div v-if=\"showForm\">\n\n              \n              <form @submit.prevent=\"newAbang\" class=\"myForm\">\n                <md-field>\n                  <md-input\n                    class=\"form-control\"\n                    v-model=\"username\"\n                    type=\"text\"\n                    placeholder=\"Username\"\n                  ></md-input>\n                </md-field>\n                <md-field>\n                  <md-input\n                    class=\"form-control\"\n                    v-model=\"password\"\n                    type=\"password\"\n                    placeholder=\"Password\"\n                  ></md-input>\n                </md-field>\n\n                <md-field>\n                  <md-input\n                    class=\"form-control\"\n                    v-model=\"facebook\"\n                    type=\"text\"\n                    placeholder=\"Facebook\"\n                  ></md-input>\n                </md-field>\n                <form\n                  id=\"img-form\"\n                  action=\"/profile\"\n                  method=\"post\"\n                  enctype=\"multipart/form-data\"\n                >\n                  <md-field>\n                    <input\n                      type=\"file\"\n                      ref=\"image\"\n                      accept=\"image/*\"\n                      v-on:change=\"handleimage\"\n                      required\n                    />\n                  </md-field>\n                </form>\n                <md-button\n                  v-if=\"loading === false\"\n                  @click.prevent=\"newAbang\"\n                  type=\"submit\"\n                  class=\"md-info\"\n                  >Submit</md-button\n                >\n                <md-button v-else type=\"submit\" @click.prevent class=\"md-info\">\n                  <i\n                    class=\"fas fa-spinner fa-pulse\"\n                    style=\"font-size: 1.5rem;\"\n                  ></i>\n                </md-button>\n              </form>\n            \n\n            </div>\n            <list-tukang-service v-else\n              table-header-color=\"blue\"\n            ></list-tukang-service>\n          </md-card-content>\n        </md-card>\n      </div>\n\n      <div\n        class=\"md-layout-item md-medium-size-100 md-xsmall-size-100 md-size-33\"\n      >\n        <md-card>\n          <md-card-header data-background-color=\"red\">\n            <h4 class=\"title\">Unsolved Services</h4>\n            <p class=\"category\">List of All Unsolved Services</p>\n          </md-card-header>\n          <md-card-content>\n            <!-- List Abang goes here -->\n            <div>\n              <md-table v-model=\"unsolvedService\" :table-header-color=\"'red'\">\n                <md-table-row slot=\"md-table-row\" slot-scope=\"{ item }\">\n <md-table-cell md-label=\"\">\n <img\n                      :src=\"icon[item.problem]\"\n                      alt\n                      style=\"object-fit: cover; width: 30px; height:30px;\n  border-radius: 50%;\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.14);\"\n                    />\n</md-table-cell>\n                  <md-table-cell md-label=\"\">\n                   \n                    <div style=\"text-align:left\">\n                    {{ item.problem }}\n                    </br>\n                    <small>{{ new Date(item.createdAt).toDateString() }}</small>\n                    </div>\n                  </md-table-cell>\n\n                  <md-table-cell md-label=\"\">\n <img\n                      :src=\"item.tukangBasoId.image\"\n                      alt\n                      style=\"object-fit: cover; width: 30px; height:30px;\n  \n  border-radius: 50%;\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.14);\"\n                    />\n</md-table-cell>\n\n <md-table-cell md-label=\"\">\n          <a :href=\"'https://m.me/' + item.facebook\" target=\"_blank\">\n            <div>\n              <img src=\"@/assets/msg.png\" style=\"width:20px\" alt=\"\" /></div></a\n        ></md-table-cell>\n                </md-table-row>\n              </md-table>\n            </div>\n          </md-card-content>\n        </md-card>\n      </div>\n\n      <div\n        class=\"md-layout-item md-medium-size-100 md-xsmall-size-100 md-size-33\"\n      >\n         <md-card>\n          <md-card-header data-background-color=\"green\">\n            <h4 class=\"title\">Solved Services</h4>\n            <p class=\"category\">List of All Solved Services</p>\n          </md-card-header>\n          <md-card-content>\n            <!-- List Abang goes here -->\n            <div>\n              <md-table v-model=\"solvedService\" :table-header-color=\"'green'\">\n                <md-table-row slot=\"md-table-row\" slot-scope=\"{ item }\">\n <md-table-cell md-label=\"\">\n <img\n                      :src=\"icon[item.problem]\"\n                      alt\n                      style=\"object-fit: cover; width: 30px; height:30px;\n  border-radius: 50%;\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.14);\"\n                    />\n</md-table-cell>\n                  <md-table-cell md-label=\"\">\n                   \n                    <div style=\"text-align:left\">\n                    {{ item.problem }}\n                    </br>\n                    <small>{{ new Date(item.createdAt).toDateString() }}</small>\n                    </div>\n                  </md-table-cell>\n\n                  <md-table-cell md-label=\"\">\n <img\n                      :src=\"item.tukangBasoId.image\"\n                      alt\n                      style=\"object-fit: cover; width: 30px; height:30px;\n  \n  border-radius: 50%;\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.14);\"\n                    />\n</md-table-cell>\n\n                </md-table-row>\n              </md-table>\n            </div>\n          </md-card-content>\n        </md-card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { TriggerNotif } from \"@/api/firebase\";\nimport { mapState } from \"vuex\";\n\nimport ListTukangService from \"@/components/Tables/ListTukangService\";\n\nexport default {\n  components: {\n    ListTukangService\n  },\n  data() {\n    return {\n      isLoading: false,\n      loadingForm: false,\n      showForm: false,\n      username: \"\",\n      password: \"\",\n      facebook: \"\",\n      loading: false,\n      //   abangService : this.$store.state.abangService\n      icon: {\n        \"Police Issue\": require(`../../assets/service/police.png`),\n        \"Tire Issue\": require(`../../assets/service/ban.png`),\n        \"Less Ingredient\": require(`../../assets/service/sauce.png`),\n        \"Low Battery\": require(`../../assets/service/battery.png`),\n        Medice: require(`../../assets/service/medice.png`),\n        \"Edit Profile\": require(`../../assets/service/user.png`),\n        Service: require(`../../assets/service/teknik.png`),\n        \"Gas Issue\": require(`../../assets/service/gas.png`)\n      }\n    };\n  },\n  created() {\n    this.fetchAbangService();\n    this.fetchService();\n  },\n  methods: {\n    fetchService() {\n      this.$store.dispatch(\"fetchService\");\n    },\n    fetchAbangService() {\n      this.$store.dispatch(\"fetchAbangService\");\n    },\n    goAddAbang() {\n      this.showForm = true;\n    },\n    cancelAdd() {\n      this.showForm = false;\n    },\n    handleimage() {\n      this.image = this.$refs.image.files[0];\n    },\n    newAbang() {\n      this.loading = true;\n      let formData = new FormData();\n\n      formData.append(\"username\", this.username);\n      formData.append(\"facebook\", this.facebook);\n      formData.append(\"password\", this.password);\n      formData.append(\"image\", this.image);\n      formData.append(\"role\", \"service\");\n\n      this.$store\n        .dispatch(\"addAbangService\", formData)\n        .then(data => {\n          console.log(\"helloo\");\n          this.loading = false;\n          this.fetchAbangService();\n          this.username = \"\";\n          this.password = \"\";\n          this.facebook = \"\";\n          this.showForm = false;\n          this.$toasted.show(\"new service agent succesfully created\", {\n            theme: \"bubble\",\n            position: \"bottom-right\",\n            duration: 4000,\n            type: \"success\"\n          });\n        })\n        .catch(err => {\n          this.loading = false;\n          this.$toasted.show(\"Invalid input, create service agent failed\", {\n            theme: \"bubble\",\n            position: \"bottom-right\",\n            duration: 4000,\n            type: \"error\"\n          });\n        });\n    }\n  },\n  created() {\n    TriggerNotif.onSnapshot(querySnapshot => {\n      this.fetchService();\n      this.fetchAbangService();\n    });\n    setTimeout(() => {\n      this.isLoading = false;\n    }, 2000);\n    this.isLoading = true;\n    this.fetchService();\n    this.fetchAbangService();\n  },\n  computed: {\n    ...mapState([\"service\", \"abangService\"]),\n    solvedService: function() {\n      return this.service.filter(list => list.solve);\n    },\n    unsolvedService: function() {\n      return this.service.filter(list => !list.solve);\n    }\n  }\n};\n</script>\n"]}]}